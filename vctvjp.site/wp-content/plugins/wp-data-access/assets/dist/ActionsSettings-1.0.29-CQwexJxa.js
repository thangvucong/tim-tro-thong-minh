import{l as o,C as m,bS as d,ax as y,S,ae as b,b as u,K as T,ad as A}from"./lib-1.0.29-C3pCU2AT.js";import{R as f}from"./RestApi-1.0.29-D1Nj1ewF.js";import{T as l}from"./TargetEnum-1.0.29-DPFnTxiX.js";const h=(e,r,c,i,a,t,s,g,n=!1)=>{o.debug(e,r,c,i,a,t),f(m.appUrlSettings,{action:"admin_settings",dbs:c,tbl:i,settings:JSON.stringify({scope:e,target:r,data:a}),theme:JSON.stringify(t)},s,g,n)},_=(e,r,c,i,a,t,s,g=!1)=>{f(m.appUrlAppSettings,{app_id:e,cnt_id:r,target:c,settings:JSON.stringify(i),theme:JSON.stringify(a)},t,s,g)},J=(e,r,c,i,a=!1)=>{const t=d(e);o.debug(t);const{state:s,...g}=T.getSelectors().selectTableById(S.getState().tables,e);o.debug(s,g);const{...n}=b.getSelectors().selectThemeById(S.getState().themes,e);o.debug(n),t.app_id?_(t.app_id,t.cnt_id,l.TABLE,g,n,c,i,a):t.dbs.trim()!==""&&t.tbl.trim()!==""?h(r,l.TABLE,t.dbs,t.tbl,g,n,c,i,a):(o.error("error","Missing data source"),i(u.contactSupport))},N=(e,r,c,i,a,t=!1)=>{const s=d(e);o.debug(s);const{state:g,...n}=y.getSelectors().selectForm(S.getState().forms,e);o.debug(g,n);const{...p}=b.getSelectors().selectThemeById(S.getState().themes,e);o.debug(p),s.app_id?_(s.app_id,s.cnt_id,c,n,p,i,a,t):s.dbs.trim()!==""&&s.tbl.trim()!==""?h(r,c,s.dbs,s.tbl,n,p,i,a,t):(o.error("error","Missing data source"),a(u.contactSupport))},O=(e,r,c,i=!1)=>{const a=d(e);o.debug(a,e);const t=a.app_id,s=a.cnt_id,g=A.getSelectors().selectChart(S.getState().charts,e);o.debug(g);const{...n}=b.getSelectors().selectThemeById(S.getState().themes,e);o.debug(n),f(m.appUrlAppSettings,{app_id:t,cnt_id:s,target:l.CHART,settings:JSON.stringify(g),theme:JSON.stringify(n)},r,c,i)};export{O as a,J as b,h as c,N as d,_ as s};
