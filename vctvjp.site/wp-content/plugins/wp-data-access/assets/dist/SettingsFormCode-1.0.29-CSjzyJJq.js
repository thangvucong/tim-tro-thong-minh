import{j as e}from"./cm-1.0.29-B-jRz_ox.js";import{P as L,b as D,a as O}from"./index-1.0.29-DewteZsJ.js";import{r as c,R as y}from"./redux-1.0.29-C1Q38y1F.js";import{T as R}from"./ConfirmDialog-1.0.29-CS4WrjWL.js";import{g as E,m as K}from"./index-1.0.29-DNyiXtkx.js";import{ag as N,ah as W,K as _,W as U,a4 as $,a as q,I as J,af as Q}from"./index-1.0.29-Dlm2kjka.js";import{b_ as X,l as m,v as Y,ca as Z,cb as k}from"./lib-1.0.29-C3pCU2AT.js";import{a as H}from"./RestApi-1.0.29-D1Nj1ewF.js";import{G as ee,I as C}from"./iconBase-1.0.29-DWX4ew0u.js";import{T as A}from"./Tooltip-1.0.29-D8cmS8RQ.js";import{B as i}from"./Spinner-1.0.29-BS14fgdJ.js";import{T as u}from"./TreeItem2-1.0.29-Dq6aHcMz.js";import{P as oe}from"./PremiumFeature-1.0.29-D7ok1IXl.js";import{u as te,b as re}from"./FormContainer-1.0.29-Bc2qt4Ga.js";import{b as ie}from"./ThemeContainer-1.0.29-CLFqgikx.js";import{A as V}from"./Accordion-1.0.29-DSoQZht0.js";import{A as B}from"./AccordionSummary-1.0.29-Chfx7bsr.js";import{B as se}from"./CardContent-1.0.29-D9omFsvB.js";import{P as ne}from"./Menu-1.0.29-DOOr2lTO.js";import{S as le}from"./TreeItem2Provider-1.0.29-rBK9p3Tt.js";import"./vendor-1.0.29-BmpNFhoq.js";import"./index-1.0.29-CZwhy2eo.js";import"./DialogContent-1.0.29-DSOFFK1-.js";import"./Typography-1.0.29-DKDDWYKJ.js";import"./AdminTheme-1.0.29-j2gnN0Eb.js";import"./notistack-1.0.29-DTteiN_s.js";import"./loglevel-1.0.29-BZ7XahX3.js";import"./lodash-1.0.29-CLFJOMhY.js";import"./moment-1.0.29-C5S46NFB.js";import"./ThemeProvider-1.0.29-6fkyOh-r.js";import"./Popper-1.0.29-DA77uIz-.js";import"./useControlled-1.0.29-gPCMf8hr.js";import"./Collapse-1.0.29-BdBN3O_f.js";import"./Checkbox-1.0.29-DTq3kp48.js";import"./SwitchBase-1.0.29-aa8fP0Df.js";import"./useFormControl-1.0.29-DBjraibe.js";import"./createSvgIcon-1.0.29-DRHeS-Ok.js";import"./index-1.0.29-BOWxC8Fi.js";import"./FormLabel-1.0.29-V40o0R6-.js";import"./main-1.0.29.js";import"./ActionsDml-1.0.29-CLWi12Fx.js";import"./useTheme-1.0.29-BG2eLrmM.js";import"./index-1.0.29-D3hJYFO0.js";import"./useScreenSize-1.0.29-C2BqwJQv.js";import"./useStoreTable-1.0.29-0wdtptv-.js";import"./dompurify-1.0.29-CCJo14B2.js";import"./dayjs.min-1.0.29-DcSvnIA7.js";import"./CardActions-1.0.29-m2umL7cE.js";import"./FallbackSpinner-1.0.29-Bxoz_pLD.js";function ae(s){return ee({tag:"svg",attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{fillRule:"evenodd",clipRule:"evenodd",d:"M2 2h12l1 1v10l-1 1H2l-1-1V3l1-1zm0 11h12V3H2v10zm11-9H3v3h10V4zm-1 2H4V5h8v1zm-3 6h4V8H9v4zm1-3h2v2h-2V9zM7 8H3v1h4V8zm-4 3h4v1H3v-1z"},child:[]}]})(s)}const P=(s,p)=>{const a=(o,d)=>e.jsx(A,{title:"Enable | Disable",children:e.jsx("span",{children:e.jsx(C,{size:"small",color:"primary",onClick:()=>{d(!o)},disabled:!0,children:o?e.jsx(N,{}):e.jsx(W,{})})})});return{iconEnabled:a,codeLabel:(o,d,f,w,z,F,g)=>e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center",gap:"10px"},children:[e.jsx("span",{children:o}),e.jsx("span",{children:f?e.jsxs(e.Fragment,{children:[a(F,g),e.jsx(A,{title:"Show | Hide",children:e.jsx("span",{children:e.jsx(C,{size:"small",color:"primary",onClick:()=>{z(!w)},disabled:!0,children:w?e.jsx(_,{}):e.jsx(U,{})})})})]}):e.jsx(A,{title:"Implement",children:e.jsx("span",{children:e.jsx(C,{size:"small",color:"primary",onClick:()=>{p!==void 0&&p(!0),d(),s!==void 0&&s(!1)},disabled:!0,children:e.jsx($,{})})})})})]}),codeTitle:(o,d)=>e.jsxs(i,{sx:{display:"grid",gridTemplateColumns:"25px auto",alignItems:"center",gap:"10px"},children:[e.jsx(i,{sx:{textAlign:"center","& div":{display:"flex",justifyContent:"center"}},children:o}),e.jsx("span",{children:d})]}),appsIcon:()=>e.jsx(i,{sx:{"& svg":{fontSize:"26px"}},children:e.jsx(q,{})}),tableIcon:()=>e.jsx(i,{sx:{"& svg":{fontSize:"20px"}},children:e.jsx(E,{})}),formIcon:()=>e.jsx(i,{sx:{"& svg":{fontSize:"20px"}},children:e.jsx(ae,{})}),columnIcon:()=>e.jsx(i,{sx:{"& svg":{fontSize:"26px"}},children:e.jsx(J,{})}),getColumnLabel:o=>o.computedField===void 0?o.columnLabel:o.computedField.label}},de=({appId:s,tableSettings:p,globalCode:a,setUpdateStatus:I})=>{H();const{codeLabel:h,codeTitle:T,appsIcon:b}=P();return e.jsx(e.Fragment,{children:p.state.masterDetailConditions===void 0&&e.jsx(u,{itemId:"appGroup",label:T(b(),"App"),children:X.map(n=>{var r,j;return e.jsx(u,{itemId:"app-"+n,label:h(n,()=>{},a[n]!==void 0,((r=a[n])==null?void 0:r.visible)??!0,o=>{m.debug(o)},((j=a[n])==null?void 0:j.enabled)??!0,o=>{m.debug(o)})},"app-"+n)})},"appGroup")})},so=({appId:s,tableSettings:p,setUpdateStatus:a})=>{m.debug(s,p),H();const[I,h]=c.useState(!0),[T,b]=c.useState(!1),n=ie(),r=re(),j=te(s),{formIcon:o,codeLabel:d,codeTitle:f,appsIcon:w,columnIcon:z,getColumnLabel:F}=P(h,b),g=c.useMemo(()=>Y(),[]);return m.debug("popupId",g),c.useState(""),c.useState(!1),c.useState(void 0),c.useState(void 0),e.jsxs(y.Fragment,{children:[e.jsx(V,{disableGutters:!0,children:e.jsx(B,{children:e.jsx(L,{variant:"popover",popupId:g,children:v=>e.jsxs(e.Fragment,{children:[e.jsxs(i,{sx:{width:"100%",display:"grid",gridTemplateColumns:"auto auto",justifyContent:"space-between",alignItems:"center"},children:[e.jsx(se,{variant:"contained",endIcon:e.jsx(K,{}),...D(v),onMouseDown:()=>{v.isOpen&&h(!0)},children:"List of hooks"}),e.jsx(R,{title:"Documentation",children:e.jsx(C,{onClick:()=>{window.open("https://wpdataaccess.com/docs/table-hooks/getting-started-with-hooks/","_blank")},children:e.jsx(Q,{})})})]}),e.jsx(ne,{...O(v),open:v.isOpen&&I,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},sx:{maxHeight:"70vh"},children:e.jsx(i,{sx:{minWidth:"360px",display:"grid",gap:"20px",padding:"20px 20px 20px 10px","& .MuiTreeItem-content:hover ":{background:"rgba(248, 248, 248, 1) !important"}},children:e.jsxs(le,{children:[e.jsx(de,{appId:s,tableSettings:p,globalCode:n,setUpdateStatus:a}),e.jsx(u,{itemId:"formGroup",label:f(o(),"Form"),children:Z.map(t=>{var M,l;return e.jsx(u,{itemId:"table-"+t,label:d(t,()=>{},r!==void 0&&r[t]!==void 0,(r!==void 0&&((M=r[t])==null?void 0:M.visible))??!0,x=>{m.debug(x)},(r!==void 0&&((l=r[t])==null?void 0:l.enabled))??!0,x=>{m.debug(x)})},"table-"+t)})},"formGroup"),e.jsxs(u,{itemId:"columnGroup",label:f(z(),"Columns"),children:[...j.map((t,M)=>t.computedField!==void 0?null:e.jsx(u,{itemId:t.columnName,label:F(t),children:k.map(l=>{var x,G;return e.jsx(u,{itemId:"column-"+t.columnName+"-"+l,label:d(l,()=>{},t.columnCode[l]!==void 0,((x=t.columnCode[l])==null?void 0:x.visible)??!0,S=>{m.debug(S)},((G=t.columnCode[l])==null?void 0:G.enabled)??!0,S=>{m.debug(S)})},"column-"+t.columnName+"-"+l)})},t.columnName))]},"columnGroup")]})})})]})})})},"CodeBuilder"),!1,e.jsx(V,{disableGutters:!0,children:e.jsx(B,{children:e.jsx(i,{sx:{"& label":{marginTop:0}},children:e.jsx(oe,{})})})})]},"CodeBuilderMain")};export{so as default};
