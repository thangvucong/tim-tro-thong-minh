import{j as v}from"./cm-1.0.29-B-jRz_ox.js";import{u as Q}from"./useScreenSize-1.0.29-C2BqwJQv.js";import{l as Z,a as V}from"./lib-1.0.29-C3pCU2AT.js";import{u as _}from"./RestApi-1.0.29-D1Nj1ewF.js";import{r as m}from"./redux-1.0.29-C1Q38y1F.js";import{f as tt,g as rt,i as I,m as U,r as et,j as B,n as ot,c as $,o as nt}from"./Typography-1.0.29-DKDDWYKJ.js";import{u as it}from"./ThemeProvider-1.0.29-6fkyOh-r.js";import{u as X,a as at,P as st}from"./iconBase-1.0.29-DWX4ew0u.js";import{d as pt,o as F,a as lt}from"./Menu-1.0.29-DOOr2lTO.js";import{y as ct,z as dt,B as ft,C as Y}from"./index-1.0.29-Dlm2kjka.js";import"./vendor-1.0.29-BmpNFhoq.js";import"./loglevel-1.0.29-BZ7XahX3.js";import"./lodash-1.0.29-CLFJOMhY.js";import"./moment-1.0.29-C5S46NFB.js";import"./notistack-1.0.29-DTteiN_s.js";function ut(r,t,n){const e=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),g=F(t);let c;if(t.fakeTransform)c=t.fakeTransform;else{const a=g.getComputedStyle(t);c=a.getPropertyValue("-webkit-transform")||a.getPropertyValue("transform")}let f=0,d=0;if(c&&c!=="none"&&typeof c=="string"){const a=c.split("(")[1].split(")")[0].split(",");f=parseInt(a[4],10),d=parseInt(a[5],10)}return r==="left"?i?`translateX(${i.right+f-e.left}px)`:`translateX(${g.innerWidth+f-e.left}px)`:r==="right"?i?`translateX(-${e.right-i.left-f}px)`:`translateX(-${e.left+e.width-f}px)`:r==="up"?i?`translateY(${i.bottom+d-e.top}px)`:`translateY(${g.innerHeight+d-e.top}px)`:i?`translateY(-${e.top-i.top+e.height-d}px)`:`translateY(-${e.top+e.height-d}px)`}function mt(r){return typeof r=="function"?r():r}function S(r,t,n){const e=mt(n),i=ut(r,t,e);i&&(t.style.webkitTransform=i,t.style.transform=i)}const ht=m.forwardRef(function(t,n){const e=X(),i={enter:e.transitions.easing.easeOut,exit:e.transitions.easing.sharp},g={enter:e.transitions.duration.enteringScreen,exit:e.transitions.duration.leavingScreen},{addEndListener:c,appear:f=!0,children:d,container:a,direction:l="down",easing:R=i,in:h,onEnter:T,onEntered:M,onEntering:z,onExit:y,onExited:D,onExiting:j,style:P,timeout:k=g,TransitionComponent:E=dt,...b}=t,p=m.useRef(null),L=at(ct(d),p,n),x=o=>s=>{o&&(s===void 0?o(p.current):o(p.current,s))},w=x((o,s)=>{S(l,o,a),ft(o),T&&T(o,s)}),u=x((o,s)=>{const N=Y({timeout:k,style:P,easing:R},{mode:"enter"});o.style.webkitTransition=e.transitions.create("-webkit-transform",{...N}),o.style.transition=e.transitions.create("transform",{...N}),o.style.webkitTransform="none",o.style.transform="none",z&&z(o,s)}),A=x(M),C=x(j),G=x(o=>{const s=Y({timeout:k,style:P,easing:R},{mode:"exit"});o.style.webkitTransition=e.transitions.create("-webkit-transform",s),o.style.transition=e.transitions.create("transform",s),S(l,o,a),y&&y(o)}),J=x(o=>{o.style.webkitTransition="",o.style.transition="",D&&D(o)}),K=o=>{c&&c(p.current,o)},W=m.useCallback(()=>{p.current&&S(l,p.current,a)},[l,a]);return m.useEffect(()=>{if(h||l==="down"||l==="right")return;const o=pt(()=>{p.current&&S(l,p.current,a)}),s=F(p.current);return s.addEventListener("resize",o),()=>{o.clear(),s.removeEventListener("resize",o)}},[l,h,a]),m.useEffect(()=>{h||W()},[h,W]),v.jsx(E,{nodeRef:p,onEnter:w,onEntered:A,onEntering:u,onExit:G,onExited:J,onExiting:C,addEndListener:K,appear:f,in:h,timeout:k,...b,children:(o,s)=>m.cloneElement(d,{ref:L,style:{visibility:o==="exited"&&!h?"hidden":void 0,...P,...d.props.style},...s})})});function gt(r){return tt("MuiDrawer",r)}rt("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const O=(r,t)=>{const{ownerState:n}=r;return[t.root,(n.variant==="permanent"||n.variant==="persistent")&&t.docked,t.modal]},xt=r=>{const{classes:t,anchor:n,variant:e}=r,i={root:["root"],docked:[(e==="permanent"||e==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${B(n)}`,e!=="temporary"&&`paperAnchorDocked${B(n)}`]};return nt(i,gt,t)},wt=I(lt,{name:"MuiDrawer",slot:"Root",overridesResolver:O})(U(({theme:r})=>({zIndex:(r.vars||r).zIndex.drawer}))),H=I("div",{shouldForwardProp:et,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:O})({flex:"0 0 auto"}),vt=I(st,{name:"MuiDrawer",slot:"Paper",overridesResolver:(r,t)=>{const{ownerState:n}=r;return[t.paper,t[`paperAnchor${B(n.anchor)}`],n.variant!=="temporary"&&t[`paperAnchorDocked${B(n.anchor)}`]]}})(U(({theme:r})=>({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(r.vars||r).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:({ownerState:t})=>t.anchor==="left"&&t.variant!=="temporary",style:{borderRight:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="top"&&t.variant!=="temporary",style:{borderBottom:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="right"&&t.variant!=="temporary",style:{borderLeft:`1px solid ${(r.vars||r).palette.divider}`}},{props:({ownerState:t})=>t.anchor==="bottom"&&t.variant!=="temporary",style:{borderTop:`1px solid ${(r.vars||r).palette.divider}`}}]}))),q={left:"right",right:"left",top:"down",bottom:"up"};function yt(r){return["left","right"].includes(r)}function kt({direction:r},t){return r==="rtl"&&yt(t)?q[t]:t}const Et=m.forwardRef(function(t,n){const e=ot({props:t,name:"MuiDrawer"}),i=X(),g=it(),c={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{anchor:f="left",BackdropProps:d,children:a,className:l,elevation:R=16,hideBackdrop:h=!1,ModalProps:{BackdropProps:T,...M}={},onClose:z,open:y=!1,PaperProps:D={},SlideProps:j,TransitionComponent:P=ht,transitionDuration:k=c,variant:E="temporary",...b}=e,p=m.useRef(!1);m.useEffect(()=>{p.current=!0},[]);const L=kt({direction:g?"rtl":"ltr"},f),w={...e,anchor:f,elevation:R,open:y,variant:E,...b},u=xt(w),A=v.jsx(vt,{elevation:E==="temporary"?R:0,square:!0,...D,className:$(u.paper,D.className),ownerState:w,children:a});if(E==="permanent")return v.jsx(H,{className:$(u.root,u.docked,l),ownerState:w,ref:n,...b,children:A});const C=v.jsx(P,{in:y,direction:q[L],timeout:k,appear:p.current,...j,children:A});return E==="persistent"?v.jsx(H,{className:$(u.root,u.docked,l),ownerState:w,ref:n,...b,children:C}):v.jsx(wt,{BackdropProps:{...d,...T,transitionDuration:k},className:$(u.root,u.modal,l),open:y,ownerState:w,onClose:z,hideBackdrop:h,ref:n,...b,...M,children:C})}),bt=()=>{const r=_(t=>t.ui.drawer.anchor);return Z.debug(r),r},Nt=({closeDrawer:r,children:t})=>{const n=bt(),e=Q();return v.jsx(Et,{id:"pp-setting-drawer-root",anchor:n,open:!0,ModalProps:{onClose:()=>{r()}},PaperProps:{sx:{minWidth:"min(600px, 100vw)",maxWidth:"95vw",width:"min(600px, 100vw)",borderTop:"4px solid #f4f7f9",borderBottom:"4px solid #f4f7f9",boxSizing:"border-box",...e.width>600&&n===V.LEFT&&{resize:"horizontal",overflow:"auto",borderRight:"4px solid #f4f7f9"},...e.width>600&&n===V.RIGHT&&{resize:"horizontal",overflow:"auto",borderLeft:"4px solid #f4f7f9",direction:"rtl","& *":{direction:"initial"}}},id:"pp-setting-drawer"},hideBackdrop:!1,sx:{"& .MuiBackdrop-root":{opacity:"0.2 !important"}},children:t})};export{Nt as default};
