import{j as t}from"./cm-1.0.29-B-jRz_ox.js";import{N}from"./react-number-format.es-1.0.29-CwrJHflX.js";import{e as m}from"./notistack-1.0.29-DTteiN_s.js";import{l as b,c4 as u,C as M}from"./lib-1.0.29-C3pCU2AT.js";import{T as B}from"./TextField-1.0.29-DGwcptkL.js";import"./redux-1.0.29-C1Q38y1F.js";import"./vendor-1.0.29-BmpNFhoq.js";import"./loglevel-1.0.29-BZ7XahX3.js";import"./lodash-1.0.29-CLFJOMhY.js";import"./moment-1.0.29-C5S46NFB.js";import"./Typography-1.0.29-DKDDWYKJ.js";import"./iconBase-1.0.29-DWX4ew0u.js";import"./FormHelperText-1.0.29-DrHduTUH.js";import"./useFormControl-1.0.29-DBjraibe.js";import"./index-1.0.29-Dlm2kjka.js";import"./FormLabel-1.0.29-V40o0R6-.js";import"./Menu-1.0.29-DOOr2lTO.js";import"./ThemeProvider-1.0.29-6fkyOh-r.js";import"./useControlled-1.0.29-gPCMf8hr.js";import"./createSvgIcon-1.0.29-DRHeS-Ok.js";const H=({value:f,columnState:i,columnMetaData:s,setValue:a,saveChanges:g,cancel:I,setButtons:x,locale:p,language:o})=>{b.debug(f,i,s);const h=parseInt(s.numeric_scale),e={};(i==null?void 0:i.inlineNumericMin)!==void 0&&(e.min=i.inlineNumericMin),(i==null?void 0:i.inlineNumericMax)!==void 0&&(e.max=i.inlineNumericMax);const n=u((o==null?void 0:o.code)??M.defaultLanguage.code);return t.jsx("div",{onClick:r=>{r.stopPropagation()},onKeyDown:r=>{r.stopPropagation()},children:t.jsx(N,{customInput:B,className:"pp-inline-editing",value:f??"",thousandSeparator:i.localize?n.thousandSeperator:void 0,decimalSeparator:i.localize?n.decimalSeperator:void 0,decimalScale:h,required:s.is_nullable==="NO",slotProps:{htmlInput:e},variant:"outlined",prefix:(i==null?void 0:i.prefix)??"",suffix:(i==null?void 0:i.suffix)??"",placeholder:((i==null?void 0:i.prefix)??"")+"9.999,99"+((i==null?void 0:i.suffix)??""),onValueChange:({value:r})=>{r===""&&s.is_nullable!=="NO"?a(null):a(r)},onKeyDown:r=>{if(r.key==="Enter"){let d=!0;r.target.value!==""&&(r.target.min&&parseInt(r.target.value)<parseInt(r.target.min)&&(m((p==null?void 0:p.minAllowed)+" "+r.target.min,{variant:"error"}),d=!1),r.target.max&&parseInt(r.target.value)>parseInt(r.target.max)&&(m((p==null?void 0:p.maxAllowed)+" "+r.target.max,{variant:"error"}),d=!1)),d&&g()}else r.key==="Escape"&&I()},onFocus:()=>{x(!0)},onBlur:()=>{setTimeout(()=>{x(!1)},200)},sx:{"& input":{textAlign:i.alignment},"& .MuiInputBase-root.Mui-focused .MuiOutlinedInput-notchedOutline":{borderWidth:"1px"},"& .MuiInputBase-root:before":{borderBottomWidth:"1px !important"},"& .MuiInputBase-root.Mui-focused:after":{borderBottomWidth:"1px"}}})})};export{H as default};
