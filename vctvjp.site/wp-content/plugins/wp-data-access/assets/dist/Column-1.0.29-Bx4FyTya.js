const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./FieldText-1.0.29-DBQ_j-gh.js","./cm-1.0.29-B-jRz_ox.js","./redux-1.0.29-C1Q38y1F.js","./vendor-1.0.29-BmpNFhoq.js","./lib-1.0.29-C3pCU2AT.js","./loglevel-1.0.29-BZ7XahX3.js","./lodash-1.0.29-CLFJOMhY.js","./moment-1.0.29-C5S46NFB.js","./TextField-1.0.29-DGwcptkL.js","./Typography-1.0.29-DKDDWYKJ.js","./iconBase-1.0.29-DWX4ew0u.js","./FormHelperText-1.0.29-DrHduTUH.js","./useFormControl-1.0.29-DBjraibe.js","./index-1.0.29-Dlm2kjka.js","./notistack-1.0.29-DTteiN_s.js","./FormLabel-1.0.29-V40o0R6-.js","./Menu-1.0.29-DOOr2lTO.js","./ThemeProvider-1.0.29-6fkyOh-r.js","./useControlled-1.0.29-gPCMf8hr.js","./createSvgIcon-1.0.29-DRHeS-Ok.js","./FieldTextarea-1.0.29-Du1dic9O.js","./FieldNumber-1.0.29-DIFhNJ0H.js","./react-number-format.es-1.0.29-CwrJHflX.js","./FieldSet-1.0.29-FlEroVau.js","./MenuItem-1.0.29-hQUyAg_Q.js","./FieldEnum-1.0.29-DArVmRWU.js","./EnumTypeEnum-1.0.29-Ws4BsaYD.js","./RadioGroup-1.0.29-DlKNzHJO.js","./Radio-1.0.29-DtS8PS_A.js","./SwitchBase-1.0.29-aa8fP0Df.js","./FormControlLabel-1.0.29-BWMy6Yxq.js","./FieldDate-1.0.29-CHVrWGDQ.js","./RestApi-1.0.29-D1Nj1ewF.js","./lang-1.0.29-BbUhQ13G.js","./useTheme-1.0.29-BG2eLrmM.js","./index-1.0.29-D3hJYFO0.js","./dayjs.min-1.0.29-DcSvnIA7.js","./useMobilePicker-1.0.29-Df2Tk0E7.js","./index-1.0.29-CZwhy2eo.js","./DialogContent-1.0.29-DSOFFK1-.js","./Popper-1.0.29-DA77uIz-.js","./InputAdornment-1.0.29-CO4NNpRp.js","./visuallyHidden-1.0.29-Dan1xhjv.js","./CardContent-1.0.29-D9omFsvB.js","./ListItem-1.0.29-D5iRmc9g.js","./Autocomplete-1.0.29-BeVKfuIu.js","./Close-1.0.29-DMVND8Dd.js","./AdapterDayjs-1.0.29-CEpaNW6M.js","./DatePicker-1.0.29-Beqi-UmW.js","./dateViewRenderers-1.0.29-DIZT5Wx_.js","./FieldDatetime-1.0.29-yZvbI0MG.js","./DateTimePicker-1.0.29-BuM9THmE.js","./Tabs-1.0.29-B0UPz-Vu.js","./timeViewRenderers-1.0.29-8ZO1XmkN.js","./Divider-1.0.29-DUrOUuwN.js","./FieldTime-1.0.29-BJBrddrz.js","./TimePicker-1.0.29-lLnNnKJ8.js","./FieldCheckbox-1.0.29-CnJ6vx_0.js","./Checkbox-1.0.29-DTq3kp48.js","./ColumnWpMedia-1.0.29-DT_S0IB2.js","./index-1.0.29-BOWxC8Fi.js","./index.esm-1.0.29-BcBy0Voo.js","./ColumnHyperlink-1.0.29-C5X6TzK-.js","./Spinner-1.0.29-BS14fgdJ.js","./FieldDuration-1.0.29-BUs68sjp.js"])))=>i.map(i=>d[i]);
import{_ as h}from"./main-1.0.29.js";import{j as e}from"./cm-1.0.29-B-jRz_ox.js";import{r as s}from"./redux-1.0.29-C1Q38y1F.js";import{l as b,m as Q,cc as I,cd as o,ce as V,L as X}from"./lib-1.0.29-C3pCU2AT.js";import{l as C}from"./ActionsDml-1.0.29-CLWi12Fx.js";import{c as M}from"./FormContainer-1.0.29-Bc2qt4Ga.js";import{T as Y}from"./TargetEnum-1.0.29-DPFnTxiX.js";import{i as n}from"./index-1.0.29--cvqXtNy.js";import{A as m}from"./Autocomplete-1.0.29-BeVKfuIu.js";import{T as D}from"./TextField-1.0.29-DGwcptkL.js";import"./vendor-1.0.29-BmpNFhoq.js";import"./notistack-1.0.29-DTteiN_s.js";import"./loglevel-1.0.29-BZ7XahX3.js";import"./lodash-1.0.29-CLFJOMhY.js";import"./moment-1.0.29-C5S46NFB.js";import"./RestApi-1.0.29-D1Nj1ewF.js";import"./Spinner-1.0.29-BS14fgdJ.js";import"./Typography-1.0.29-DKDDWYKJ.js";import"./AdminTheme-1.0.29-j2gnN0Eb.js";import"./ThemeContainer-1.0.29-CLFqgikx.js";import"./useTheme-1.0.29-BG2eLrmM.js";import"./index-1.0.29-D3hJYFO0.js";import"./index-1.0.29-Dlm2kjka.js";import"./iconBase-1.0.29-DWX4ew0u.js";import"./FallbackSpinner-1.0.29-Bxoz_pLD.js";import"./Tooltip-1.0.29-D8cmS8RQ.js";import"./ThemeProvider-1.0.29-6fkyOh-r.js";import"./Popper-1.0.29-DA77uIz-.js";import"./useControlled-1.0.29-gPCMf8hr.js";import"./useScreenSize-1.0.29-C2BqwJQv.js";import"./useStoreTable-1.0.29-0wdtptv-.js";import"./dompurify-1.0.29-CCJo14B2.js";import"./dayjs.min-1.0.29-DcSvnIA7.js";import"./CardContent-1.0.29-D9omFsvB.js";import"./CardActions-1.0.29-m2umL7cE.js";import"./Close-1.0.29-DMVND8Dd.js";import"./createSvgIcon-1.0.29-DRHeS-Ok.js";import"./FormHelperText-1.0.29-DrHduTUH.js";import"./useFormControl-1.0.29-DBjraibe.js";import"./FormLabel-1.0.29-V40o0R6-.js";import"./Menu-1.0.29-DOOr2lTO.js";const l=(d,p)=>({}),a=({appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,storeForm:E,formMode:j,locale:k})=>{var g,B;b.debug(d,p,y,L,_,i,P,r,E,j,k);const A=M(d),[v,t]=s.useState([]);b.debug("lov",v);const[T,H]=s.useState(!1),[Z,q]=s.useState(""),[W,$]=s.useState(Array.isArray((g=i.lookup)==null?void 0:g.dynamicConditions)?(B=i.lookup)==null?void 0:B.dynamicConditions.map(f=>({columnName:f.tableColumnName,columnValue:""})):[]);b.debug("conditions",W),s.useEffect(()=>{var f,R;Array.isArray((f=i.lookup)==null?void 0:f.dynamicConditions)&&((R=i.lookup)==null||R.dynamicConditions.map(S=>{A[S.tableColumnName]===void 0&&b.error("Invalid lookup: column "+S.tableColumnName+" in dynamic condition not found.")})),W.length===0&&U()},[i.lookup]),s.useEffect(()=>{var f,R;if(Object.keys(W).length>0){const S=Array.isArray((f=i.lookup)==null?void 0:f.dynamicConditions)?(R=i.lookup)==null?void 0:R.dynamicConditions.map(x=>({columnName:x.lookupColumnName,columnValue:A[x.tableColumnName]??""})):[];if(b.debug(S),!n(W,S)){const x={};S.length>0&&S.map(z=>{x[z.columnName]=z.columnValue}),b.debug("reloading dynamic lookup",p,S),U(x),$(S)}}},[A]);const U=(f={})=>{var R,S;C(d,(r==null?void 0:r.useRform)===!0?Y.RFORM:Y.FORM,p,((R=i.lookup)==null?void 0:R.key)??"",((S=i.lookup)==null?void 0:S.value)??"",f,{},x=>{var z,G,J;if(b.debug(x),(x==null?void 0:x.code)==="ok"){if(!((z=i.lookup)!=null&&z.value.includes(",")))t(x.data);else{const u=(G=i.lookup)==null?void 0:G.value.split(","),K=[];for(let F=0;F<x.data.length;F++){const c=u.map(N=>x.data[F][N]).join(((J=i.lookup)==null?void 0:J.delimiter)??"");K.push({key:x.data[F].key,value:c})}t(K)}H(!1),q("")}else H(!0),q(x.message),t([])},x=>{H(!0),q(x),t([])})},w=s.useMemo(()=>v.filter(f=>f.key===y)[0]??null,[y,v]);return e.jsx(m,{multiple:!1,fullWidth:!0,autoHighlight:!0,autoComplete:!1,options:v,getOptionLabel:f=>Array.isArray(f.value)?Q(f.value[0]):Q(f.value),value:w,onChange:(f,R)=>{R!==null?O(p,R==null?void 0:R.key):O(p,null)},disabled:I(r,_,i,j),className:i.classNames,renderInput:f=>e.jsx(D,{error:T,label:_.formLabel,required:_.is_nullable==="NO",...f,variant:o(),helperText:T?Z:V(i,k.selectEnum),disabled:j===X.VIEW||j===X.UPDATE&&(r.primary_key.includes(p)||i.updatable===!1)})})},ii=s.lazy(()=>h(()=>import("./FieldText-1.0.29-DBQ_j-gh.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),ri=s.lazy(()=>h(()=>import("./FieldTextarea-1.0.29-Du1dic9O.js"),__vite__mapDeps([20,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),si=s.lazy(()=>h(()=>import("./FieldNumber-1.0.29-DIFhNJ0H.js"),__vite__mapDeps([21,1,2,3,22,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),pi=s.lazy(()=>h(()=>import("./FieldSet-1.0.29-FlEroVau.js"),__vite__mapDeps([23,1,2,3,4,5,6,7,11,9,12,8,10,13,14,15,16,17,18,19,24]),import.meta.url)),ei=s.lazy(()=>h(()=>import("./FieldEnum-1.0.29-DArVmRWU.js"),__vite__mapDeps([25,1,2,3,4,5,6,7,11,9,12,8,10,13,14,15,16,17,18,19,24,26,27,28,29,30]),import.meta.url)),_i=s.lazy(()=>h(()=>import("./FieldDate-1.0.29-CHVrWGDQ.js"),__vite__mapDeps([31,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,39,16,17,40,41,12,18,11,8,15,19,42,43,44,45,46,47,48,49]),import.meta.url)),di=s.lazy(()=>h(()=>import("./FieldDatetime-1.0.29-yZvbI0MG.js"),__vite__mapDeps([50,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,39,16,17,40,41,12,18,11,8,15,19,42,43,44,45,46,47,51,52,53,24,49,54]),import.meta.url)),yi=s.lazy(()=>h(()=>import("./FieldTime-1.0.29-BJBrddrz.js"),__vite__mapDeps([55,1,2,3,32,4,5,6,7,33,34,35,9,13,10,14,36,37,38,39,16,17,40,41,12,18,11,8,15,19,42,43,44,45,46,47,56,53,24]),import.meta.url)),Ei=s.lazy(()=>h(()=>import("./FieldCheckbox-1.0.29-CnJ6vx_0.js"),__vite__mapDeps([57,1,2,3,4,5,6,7,11,9,12,30,10,58,29,18,19]),import.meta.url)),ji=s.lazy(()=>h(()=>import("./ColumnWpMedia-1.0.29-DT_S0IB2.js"),__vite__mapDeps([59,1,2,3,4,5,6,7,32,60,10,9,61,34,35,13,14,11,12,43]),import.meta.url)),vi=s.lazy(()=>h(()=>import("./ColumnHyperlink-1.0.29-C5X6TzK-.js"),__vite__mapDeps([62,1,2,3,4,5,6,7,63,9,8,10,11,12,13,14,15,16,17,18,19,30,58,29]),import.meta.url)),fi=s.lazy(()=>h(()=>import("./FieldDuration-1.0.29-BUs68sjp.js"),__vite__mapDeps([64,1,2,3,22,4,5,6,7,32,8,9,10,11,12,13,14,15,16,17,18,19]),import.meta.url)),ai=({appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:t})=>{b.debug(d,p,y,L,_,i,r,E,j,k,t);const T=l();if(r!=null&&r.media[p]){if(["WP-Image","WP-Attachment","WP-Audio","WP-Video"].includes(r==null?void 0:r.media[p]))return e.jsx(s.Suspense,{children:e.jsx(ji,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:t,columnMedia:E==null?void 0:E.media[p],mediaType:r==null?void 0:r.media[p]})});if((r==null?void 0:r.media[p])==="HyperlinkObject")return e.jsx(s.Suspense,{children:e.jsx(vi,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})})}else{if(_.column_type.toLowerCase()==="tinyint(1)")return e.jsx(s.Suspense,{children:e.jsx(Ei,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})});if(i.lookup!==void 0)return e.jsx(a,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})}switch(_.data_type.toLowerCase()){case"decimal":case"double":case"double precision":case"float":case"real":case"bit":case"tinyint":case"smallint":case"int":case"integer":case"mediumint":case"bigint":return e.jsx(s.Suspense,{children:e.jsx(si,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:t})});case"enum":return e.jsx(s.Suspense,{children:e.jsx(ei,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})});case"set":return e.jsx(s.Suspense,{children:e.jsx(pi,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})});case"time":return i.duration===!0?e.jsx(s.Suspense,{children:e.jsx(fi,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:t})}):e.jsx(s.Suspense,{children:e.jsx(yi,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:t})});case"date":return e.jsx(s.Suspense,{children:e.jsx(_i,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:t})});case"datetime":case"timestamp":return e.jsx(s.Suspense,{children:e.jsx(di,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,language:t})});case"tinytext":case"text":case"mediumtext":case"longtext":return e.jsx(s.Suspense,{children:e.jsx(ri,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v})});default:return e.jsx(s.Suspense,{children:e.jsx(ii,{appId:d,columnName:p,columnValue:y,columnInitialValue:L,columnMetaData:_,storeColumn:i,columnValidation:P,onColumnChange:O,metaData:r,context:E,storeTable:j,storeForm:k,formMode:A,locale:v,columnCode:T})})}};export{ai as default};
